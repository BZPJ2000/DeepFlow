# DeepFlow 用户指南

## 📖 目录

1. [快速开始](#快速开始)
2. [基础使用](#基础使用)
3. [完整工作流程](#完整工作流程)
4. [常见问题](#常见问题)

---

## 🚀 快速开始

### 环境要求

**最低配置：**
- Python 3.8+
- 8GB RAM
- 10GB 磁盘空间

**推荐配置：**
- Python 3.9+
- 16GB RAM
- NVIDIA GPU (8GB+ VRAM)
- 50GB 磁盘空间

### 安装步骤

```bash
# 1. 克隆项目
git clone https://github.com/yourusername/DeepFlow.git
cd DeepFlow

# 2. 创建虚拟环境（推荐）
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 3. 安装依赖
pip install -r requirements.txt

# 4. 启动应用
streamlit run app.py
```

访问 http://localhost:8501 开始使用

---

## 📱 基础使用

### 界面导航

DeepFlow 提供了直观的 Web 界面，包含以下页面：

1. **主页** - 项目介绍和系统状态
2. **任务选择** - 选择 AI 领域和子任务
3. **模型选择** - 浏览和选择模型
4. **数据配置** - 配置数据集和预处理
5. **训练配置** - 设置训练参数

### 支持的任务类型

#### 1. 自然语言处理 (NLP)
- 情感分类
- 机器翻译
- 命名实体识别
- 文本生成

#### 2. 计算机视觉 (CV)
- 图像分类
- 目标检测
- 图像分割
- 图像生成

#### 3. 图神经网络 (GNN)
- 图分类
- 节点分类
- 链接预测
- 图生成

#### 4. 强化学习 (RL)
- Q-Learning
- Deep Q-Network
- Policy Gradient
- Actor-Critic

---

## 🔄 完整工作流程

### 步骤 1: 选择任务

1. 打开应用后，点击侧边栏的 "任务选择"
2. 选择任务领域（如：计算机视觉）
3. 选择子任务（如：图像分类）
4. 点击 "下一步：选择模型"

### 步骤 2: 选择模型

1. 浏览可用模型列表
2. 使用搜索框快速查找模型
3. 点击模型卡片查看详细信息：
   - 模型描述
   - 参数量
   - 资源需求
   - 标签
4. 点击 "选择" 按钮确认模型
5. 点击 "下一步：配置数据"

### 步骤 3: 配置数据

1. **设置数据路径**
   - 输入数据集所在目录
   - 系统会验证路径是否有效

2. **配置数据分割**
   - 训练集比例（推荐 0.8）
   - 验证集比例（推荐 0.1）
   - 测试集比例（推荐 0.1）

3. **设置批次大小**
   - 根据显存大小选择合适的 batch size
   - 推荐值：32

4. **数据增强（可选）**
   - 勾选 "启用数据增强"
   - 选择增强方法：
     - 随机翻转
     - 随机旋转
     - 随机裁剪
     - 颜色抖动
     - 归一化

5. 点击 "保存配置并继续"

### 步骤 4: 训练配置

1. **基础参数**
   - 训练轮数（Epochs）：10-100
   - 学习率（Learning Rate）：0.001
   - 训练设备：cuda / cpu
   - 保存间隔：每 5 个 epoch

2. **优化器选择**
   - Adam（推荐）
   - SGD
   - AdamW
   - RMSprop

3. **损失函数**
   - CrossEntropyLoss（分类任务）
   - MSELoss（回归任务）
   - BCELoss（二分类）
   - L1Loss

4. **高级选项**
   - 学习率调度器
   - 早停机制

5. 点击 "开始训练"

---

## ❓ 常见问题

### Q1: 如何添加自己的数据集？

将数据集放在 `data/` 目录下，按以下结构组织：

```
data/
└── my_dataset/
    ├── train/
    ├── val/
    └── test/
```

### Q2: CUDA out of memory 怎么办？

**解决方案：**
1. 减小 batch size（如从 32 改为 16）
2. 使用更小的模型
3. 启用混合精度训练

### Q3: 模型没有被自动发现？

**检查清单：**
1. 模型文件是否在 `library/models/` 目录下
2. 模型类是否继承自 `BaseModel`
3. 是否实现了 `get_metadata()` 方法
4. 重启应用重新扫描

### Q4: 如何查看训练进度？

训练过程中会实时显示：
- 当前 epoch
- 训练损失
- 验证损失（如果有验证集）

### Q5: 训练结果保存在哪里？

默认保存在 `outputs/` 目录：
- `outputs/checkpoints/` - 模型检查点
- `outputs/logs/` - 训练日志
- `outputs/results/` - 实验结果

---

## 💡 使用技巧

### 技巧 1: 快速实验

对于快速测试，使用以下配置：
- Epochs: 5
- Batch Size: 32
- 数据集: 使用样例数据

### 技巧 2: 最佳实践

1. **数据准备**
   - 确保数据格式正确
   - 检查数据分布
   - 使用适当的数据增强

2. **模型选择**
   - 从简单模型开始
   - 逐步增加复杂度
   - 关注参数量和显存需求

3. **训练监控**
   - 定期检查损失曲线
   - 注意过拟合迹象
   - 使用验证集评估

### 技巧 3: 性能优化

- 使用 GPU 训练
- 启用数据预加载
- 调整 num_workers
- 使用混合精度

---

## 📞 获取帮助

- 📖 查看开发者指南
- 🐛 提交 Issue
- 💬 参与讨论
- 📧 联系维护者

---

**祝你使用愉快！** 🎉
